<!DOCTYPE html>
<!--[if lte IE 7]><html class="ie7" lang="en-US"><![endif]-->
<!--[if (gt IE 7)|!(IE)]><! --><html lang="en-US"><!-- <![endif]-->
<head>
  
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width" />
  <!-- improve rankings in bing: http://www.bing.com/blogs/site_blogs/b/webmaster/archive/2013/04/01/empowering-webmasters-to-rank-better-the-seo-tag.aspx -->
  <link rel="seo" query="awesome web designer" set_to_position="3" />
  <link rel="seo" must_be_before="*.happycog.com" />
<title>@font-face for obscure Linux Browsers - Aaron James Young</title>
<meta name="description" content="<p>Now mostly obsolete - My experiments with various @font-face syntaxes in Linux-based Webkit browsers.</p>"/>
<link rel="canonical" href="http://ajy.co/web/font-face-for-obscure-linux-browsers/" />
  <meta name="keywords" content="winning, winner" />
  <meta name="google-site-verification" content="LJCzP8R76YVhsl7vFSfvBL8FBpXyMMGCbcMs6v4G7oI" />
  <link rel="stylesheet" href="http://ajy.co/theme/css/style.css" />
  <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="http://ajy.co/feed/all.atom.xml" type="application/atom+xml" rel="alternate" title="Aaron James Young Full Atom Feed" />
  <link href="http://ajy.co/feed/web.atom.xml" type="application/atom+xml" rel="alternate" title="Aaron James Young Categories Atom Feed" />

  <script src="http://ajy.co/theme/foundation/javascripts/vendor/custom.modernizr.js"></script>
</head>

<body class="single ">
  <header id="masthead" class="site-header" role="banner">
    <h4 class="site-title title-ajy">
      <a href="http://ajy.co" class="logo">
        <img src="http://ajy.co/theme/graphics/logo-ajy.svg" alt="AJY" />
        Aaron James Young
      </a>
    </h4>
    <nav id="site-navigation" class="navigation-main" role="navigation">
      <h5 class="menu-toggle">
        <i class="icon-th"></i>
      </h5>
      <div class="screen-reader-text skip-link">
        <a href="#content" title="Skip to Content">Skip to Content</a>
      </div>
      <ul>
        <li><a href="http://ajy.co">Home</a></li>
        <li><a href="http://ajy.co/about-me/">About Me</a></li>
        <li><a href="http://ajy.co/web/">Blog/Web</a></li>
        <li><a href="http://ajy.co/linux/">Blog/Linux</a></li>
        <li><a href="http://ajy.co/personal/">Blog/Personal</a></li>
        <li><a href="http://ajy.co/contact-me/">Contact Me</a></li>
        <li class="divided"><a href="http://circleorange.com">Circle Orange</a></li>
      </ul>
    </nav>
  </header>
  <section class="site-content" id="content" role="main">
    <article>
  <header>
    <h1>@font-face for obscure Linux Browsers</h1>
    <aside class="metadata">
      <p class="date"><i class="icon-calendar"></i>Sat, 15 May 2010</p>
      <p class="category"><i class="icon-book"></i><span>Posted In:</span> <a href="http://ajy.co/web/">web</a></p>
      <p class="tags"><i class="icon-tag"></i><span>Tagged:</span>
<a href="http://ajy.co/tag/css/">css</a><a href="http://ajy.co/tag/font/">font</a><a href="http://ajy.co/tag/code/">code</a><a href="http://ajy.co/tag/linux/">linux</a>      </p>
    </aside>
  </header>
  <section>
    <div>
      <p><strong>UPDATE 2/3/2011:</strong> A new @font-face syntax has been released into the
wild today: The <a href="http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax">Fontspring @font-face Syntax</a>. This simple syntax
looks like this:</p>
<div class="highlight"><pre><span class="k">@font-face</span> <span class="p">{</span> 
    <span class="nt">font-family</span><span class="o">:</span> <span class="s1">&#39;MyFontFamily&#39;</span><span class="o">;</span>
    <span class="nt">src</span><span class="o">:</span> <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;myfont-webfont.eot#&#39;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;embedded-opentype&#39;</span><span class="o">),</span>
        <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;myfont-webfont.woff&#39;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;woff&#39;</span><span class="o">),</span>
        <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;myfont-webfont.ttf&#39;</span><span class="o">)</span>  <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;truetype&#39;</span><span class="o">),</span>
        <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;myfont-webfont.svg#svgFontName&#39;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;svg&#39;</span><span class="o">);</span>
    <span class="p">}</span>
</pre></div>


<p>I've checked this syntax in Konqueror 4.6 (KHTML) and gtk-webkit, as
well as Opera 11 on Linux. Each browser displays the @font-face font
correctly. Further testing is needed in some various browsers (including
different versions of IE) to determine if everything is working
perfectly and how well the syntax performs.</p>
<h3>Back to the original article...</h3>
<p>@font-face is an increasingly popular method of delivering custom fonts
to display online. The syntax for using @font-face in a CSS file is
pretty straightforward, but there are a number of cross-browser issues
that complicate the matter. I'm going to describe the best syntax I've
found that supports the largest number of browsers, including a couple
Linux browsers that don't seem to support other syntaxes (is that a
word?) that I've found online.</p>
<h3>"Obscure"?</h3>
<p>I didn't check just now, but I'm sure Firefox is the most popular Linux
browser. There are, however, a number of people in the Linux community
who harbor a dissatisfaction with Firefox and use an alternative
browser. So, while the browsers described here are not widely used
overall, they are pretty well-known among Linux users. The browsers are:</p>
<ul>
<li>Konqueror, the KDE web browser. Konqueror uses the KHTML rendering
    engine, which (back in the day) served as the basis for the
    now-popular Webkit engine.</li>
<li>Epiphany and Midori are Webkit browsers. They both use the new GTK
    port of Webkit to render pages. While Webkit-GTK is very similar to
    the Webkit engines that power Safari and Chrome, there are a few
    minor differences. One of the differences is the treatment of
    @font-face syntax.</li>
</ul>
<h3>The Basis:</h3>
<p>I originally started from Paul Irish's Bulletproof @font-face syntax
here:
<a href="http://paulirish.com/2009/bulletproof-font-face-implementation-syntax/">http://paulirish.com/2009/bulletproof-font-face-implementation-syntax/</a>
and modified it a fair amount. That article is good reading and my
intent is not to repeat it here. I also don't intend to be speaking with
any authority on this subject, I'm just sharing what works for me.
Anyway, read that article. A fair amount of what I'm writing is under
the assumption you've read it.</p>
<p>Here's the Bulletproof syntax by Paul Irish (happy face and all):</p>
<div class="highlight"><pre><span class="k">@font-face</span> <span class="p">{</span>
    <span class="nt">font-family</span><span class="o">:</span> <span class="s1">&#39;Graublau Web&#39;</span><span class="o">;</span>
    <span class="nt">src</span><span class="o">:</span> <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;GraublauWeb.eot&#39;</span><span class="o">);</span> <span class="c">/* for IE */</span>
    <span class="nt">src</span><span class="o">:</span> <span class="nt">local</span><span class="o">(</span><span class="s1">&#39;☺&#39;</span><span class="o">),</span>
        <span class="nt">url</span><span class="o">(</span><span class="s2">&quot;GraublauWeb.woff&quot;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s2">&quot;woff&quot;</span><span class="o">),</span>
        <span class="nt">url</span><span class="o">(</span><span class="s2">&quot;GraublauWeb.otf&quot;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s2">&quot;opentype&quot;</span><span class="o">),</span>
        <span class="nt">url</span><span class="o">(</span><span class="s2">&quot;GraublauWeb.svg#grablau&quot;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s2">&quot;svg&quot;</span><span class="o">);</span> <span class="c">/* these are for other browsers */</span>
    <span class="p">}</span>
</pre></div>


<h3>My process - Issues and Resolution:</h3>
<ul>
<li>
<p>In my testing, it seems that GTK-webkit chokes on "local" and
    doesn't read the rest of the final "src" line above. Therefore,
    @font-face doesn't work. To resolve this, I moved "local" to a new
    "src" line. This makes IE choke (that is, the custom font does not
    display), but I'll take care of it later:</p>
<div class="highlight"><pre><span class="nt">src</span><span class="o">:</span> <span class="nt">url</span> <span class="o">(..</span><span class="nc">.the</span> <span class="nt">eot</span> <span class="nt">filesrc</span><span class="o">:</span> <span class="nt">local</span><span class="o">(</span><span class="s1">&#39;☺&#39;</span><span class="o">);</span>
<span class="nt">src</span><span class="o">:</span> <span class="nt">url</span><span class="o">(..</span><span class="nc">.lots</span> <span class="nt">of</span> <span class="nt">stuff</span>
</pre></div>


</li>
<li>
<p>Then I found that no matter where the "local" declaration is,
    Konqueror chokes. So I just got rid of it. IE still chokes.</p>
</li>
<li>
<p>To fix IE, I use a conditional comment to include the IE declaration
    separately:</p>
<div class="highlight"><pre><span class="c">&lt;!--[if IE]&gt;</span>
<span class="c">    @font-face {</span>
<span class="c">        font-family: &#39;Graublau Web&#39;;</span>
<span class="c">        src: url(&#39;GraublauWeb.eot&#39;);</span>
<span class="c">    }</span>
<span class="c">&lt;![endif]--&gt;</span>
</pre></div>


<p>I actually just put this in a separate IE stylesheet. This isn't a
problem for me since I almost always use a specific IE stylesheet.
My normal stylesheet contains:</p>
<div class="highlight"><pre><span class="k">@font-face</span> <span class="p">{</span>
    <span class="nt">font-family</span><span class="o">:</span> <span class="s1">&#39;Graublau Web&#39;</span><span class="o">;</span>
    <span class="nt">src</span><span class="o">:</span> <span class="nt">url</span><span class="o">(</span><span class="s2">&quot;GraublauWeb.woff&quot;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s2">&quot;woff&quot;</span><span class="o">),</span>
        <span class="nt">url</span><span class="o">(</span><span class="s2">&quot;GraublauWeb.otf&quot;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s2">&quot;opentype&quot;</span><span class="o">),</span>
        <span class="nt">url</span><span class="o">(</span><span class="s2">&quot;GraublauWeb.svg#grablau&quot;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s2">&quot;svg&quot;</span><span class="o">);</span>
    <span class="p">}</span>
</pre></div>


</li>
</ul>
<h3>Browser Support:</h3>
<p>I tested this in:</p>
<ul>
<li>Firefox 3.6 (Linux)</li>
<li>Opera 10.5 (Linux)</li>
<li>Midori, using WebkitGtk+ 1.1.22 (fixed!) (remember, this browser
    uses the exact same Webkit engine as Epiphany, Uzbl, Jumanji, surf,
    vimprobable, etc., etc.)</li>
<li>Konqueror 4.4.2 (fixed!)</li>
<li>IE6, 7, 8</li>
<li>Google Chrome (Windows)</li>
</ul>
<p>All these browsers display the @font-face font using my syntax above.</p>
<h3>IE Gotcha's:</h3>
<ul>
<li>Not using a separate IE stylesheet? You won't like this solution,
    sorry. It requires double declarations.</li>
<li>Using the syntax I just described, IE will get a 404 "not found"
    message as it attempts to download a file that doesn't exist. See
    Paul Irish's post for more about this issue. See below for the
    workaround.</li>
<li>Microsoft has expressed support for the WOFF format. This is good in
    the long-term but in the short-term I wonder if it could create more
    problems with the release of IE9 and the need to support older
    versions of IE as well. An alternative syntax may be needed to
    deliver the WOFF font to IE9 and the EOT to earlier versions of IE.
    Gosh, I hope not.</li>
</ul>
<h3>IE 404 problem:</h3>
<p>As I mentioned above, IE gets a 404 as it requests the WOFF font
(actually, it requests a really long string that's not even a real
address... Paul Irish's post describes this in more detail). The Mo'
Bulletproofer syntax by Richard Fink (mentioned below) prevents this so
my current syntax is as follows:</p>
<div class="highlight"><pre><span class="c">&lt;!--[if IE]&gt;</span>
<span class="c">&lt;style&gt;</span>
<span class="c">@font-face { /* I actually put this in my ie.css file */</span>
<span class="c">    font-family: &#39;Graublau Web&#39;;</span>
<span class="c">    src: url(&#39;GraublauWeb.eot&#39;);</span>
<span class="c">    }</span>
<span class="c">&lt;/style&gt;</span>
<span class="c">&lt;![endif]--&gt;</span>
<span class="nt">&lt;style&gt;</span>
<span class="k">@font-face</span> <span class="p">{</span> <span class="c">/* this goes in my normal css file */</span>
    <span class="nt">font-family</span><span class="o">:</span> <span class="s1">&#39;Graublau Web&#39;</span><span class="o">;</span>
    <span class="nt">src</span><span class="o">:</span> <span class="nt">url</span><span class="o">(//:)</span> <span class="nt">format</span><span class="o">(</span><span class="s2">&quot;no404&quot;</span><span class="o">),</span>
        <span class="nt">url</span><span class="o">(</span><span class="s2">&quot;GraublauWeb.woff&quot;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s2">&quot;woff&quot;</span><span class="o">),</span>
        <span class="nt">url</span><span class="o">(</span><span class="s2">&quot;GraublauWeb.otf&quot;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s2">&quot;opentype&quot;</span><span class="o">),</span>
        <span class="nt">url</span><span class="o">(</span><span class="s2">&quot;GraublauWeb.svg#grablau&quot;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s2">&quot;svg&quot;</span><span class="o">);</span>
    <span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
</pre></div>


<p>So I use the Mo'Bulletproof syntax in my projects, based on this sort of
trial-and-error testing system. Note, I don't usually put these in my
HTML files of course, they go in their respective css stylesheets
without any conditional comments or HTML tags.</p>
<h3>No perfect solution</h3>
<p>Whether it's Paul Irish's Bulletproof syntax with a smiley face, or the
"url(//:)" in the Mo'Bulletproof-er, both solutions contain code that is
only a hack to make IE behave. I don't see a real semantic difference
between the two, and I'm OK with double declarations since I have a
separate IE stylesheet anyway in my development workflow. In my opinion,
the best I can do is to make sure the syntax works for as many users as
possible.</p>
    </div>
  </section>

  <footer>
    <aside class="ajy-social">
      <h3>Share this post:</h3>
      <a href="http://twitter.com/?status=@font-face for obscure Linux Browsers%20http://ajy.co/web/font-face-for-obscure-linux-browsers" onclick="window.open(this.href); return false;" class="twitter" data-title="Tweet it!">Tweet this post</a>
      <a href="http://www.facebook.com/sharer.php?u=http://ajy.co/web/font-face-for-obscure-linux-browsers&amp;t=@font-face for obscure Linux Browsers" onclick="window.open(this.href); return false;" class="facebook" data-title="Share it!">Share this post on Facebook</a>
      <div class="ajy-plusone"><g:plusone annotation="none"></g:plusone></div>
    </aside>
    <aside class="boilerplate">
      <p>
        Aaron James Young is a <a href="http://circleorange.com">Bend, Oregon Web Designer</a>
        and crazy runner / cyclist. He is husband to Evelyn and father to Hanna.
      </p>
    </aside>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'aaronjamesyoung';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  </footer>
    </article>
  </section>
  <footer class="site-footer" role="contentinfo">
    <div>
      <div class="ajy-social">
        <a href="http://plus.google.com/109689338786007219373?rel=author" class="googleplusalt" rel="author" data-title="Google Plus">Google Plus</a>
        <a href="http://twitter.com/aaronjamesyoung" class="twitter" data-title="Twitter">Twitter</a>
        <a href="http://facebook.com/aaronjamesyoung" class="facebook" data-title="Facebook">Facebook</a>
        <a href="http://forrst.me/aaronjamesyoung" class="forrst" data-title="Forrst">Forrst</a>
        <a href="http://github.com/aaronjamesyoung" class="github" data-title="Github">Github</a>
        <a href="http://circleorange.com" class="circleorange" data-title="Circle Orange">Circle Orange</a>
        <a href="http://ajy.co/feed/all.atom.xml" class="rss" data-title="RSS Feed">RSS Feed</a>
      </div>
      <div class="credits">
        <p>
          All content &amp; design on this site Copyright &copy; 2013, Aaron James Young</p>
        <p>
          Website powered by <a href="http://getpelican.com/">Pelican</a>
        </p>
      </div>
    </div>
  </footer>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="http://ajy.co/theme/foundation/javascripts/foundation/foundation.js"></script>
  <script src="http://ajy.co/theme/foundation/javascripts/foundation/foundation.clearing.js"></script>
  <script src="http://ajy.co/theme/foundation/javascripts/foundation/foundation.forms.js"></script>
  <script src="http://ajy.co/theme/foundation/javascripts/foundation/foundation.orbit.js"></script>
  <script src="http://ajy.co/theme/js/ajy.js"></script>
  <script type="text/javascript">
    (function() {
      var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      po.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
  </script>
  <!-- Piwik -->
  <script type="text/javascript">
  var pkBaseURL = (("https:" == document.location.protocol) ? "https://ajy.co/+/" : "http://ajy.co/+/");
  document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script type="text/javascript">
  try {
  var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
  piwikTracker.trackPageView();
  piwikTracker.enableLinkTracking();
  } catch( err ) {}
  </script><noscript><p><img src="http://ajy.co/+/piwik.php?idsite=1" style="border:0" alt="" /></p></noscript>
  <!-- End Piwik Tracking Code -->
</body>
</html>